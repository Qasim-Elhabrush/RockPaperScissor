<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>

<body>
    <h1 style="text-align:center;">First to 5 Wins!</h1>
    <div class="buttons">
        <button id="rockButton">Rock</button>
        <button id="paperButton">Paper</button>
        <button id="scissorsButton">Scissors</button>
    </div>
    <div class="Results"></div>
    <div id="Score" style="transform:translate(900px) ; position:absolute"></div>


    <script>
        let playerSelection = '';
        let computerSelection = '';
        let computerScore = 0;
        let playerScore = 0;
        let result = "";
        const reloadPage = function() {
            window.location.reload();
        }
        const computerPlay = function() {
            numChoose = Math.floor(Math.random() * 3);
            if (numChoose == 0) {
                return 'rock';
            } else if (numChoose == 1) {
                return 'paper';
            } else {
                return 'scissors';
            }
        }

        const winLose = function(x) {
            if (x == 1) {
                document.querySelector(".Results").textContent = "You chose " + playerSelection + ", and the computer chose " + computerSelection + ". You won this one!!";

                playerScore = playerScore + 1;
                updateScore();
            } else {
                document.querySelector(".Results").textContent = "You chose " + playerSelection + ", and the computer chose " + computerSelection + ". You lost this round :(";
                computerScore = computerScore + 1;
                updateScore();
            }
        }
        const updateScore = function() {
            document.querySelector("#Score").textContent = "Player: " + playerScore + " Point(s)    |    Computer: " + computerScore + " Point(s)";
            if (computerScore == 5) {
                let resultButton = document.createElement("button");
                resultButton.innerHTML = "You Lost! Play again?";
                resultButton.id = "resultButton";
                document.body.appendChild(resultButton);
                document.querySelector("#resultButton").addEventListener("click", reloadPage);
            } else if (playerScore == 5) {
                let resultButton = document.createElement("button");
                resultButton.innerHTML = "You Win!!! Play again?";
                resultButton.id = "resultButton";
                document.body.appendChild(resultButton);
                document.querySelector('#resultButton').addEventListener("click", reloadPage);
            }
        }
        const rockPlayerSelection = function() {
            playerSelection = 'rock';
            playRound(playerSelection);
        }
        const paperPlayerSelection = function() {
            playerSelection = "paper";
            playRound(playerSelection);

        }
        const scissorsPlayerSelection = function() {
            playerSelection = "scissors";
            playRound(playerSelection);
        }
        document.getElementById("rockButton").addEventListener("click", rockPlayerSelection);
        document.getElementById("paperButton").addEventListener("click", paperPlayerSelection);
        document.getElementById("scissorsButton").addEventListener("click", scissorsPlayerSelection);

        const playRound = function(playerSelection) {
            computerSelection = computerPlay();
            if (computerScore == 5 || playerScore == 5) {} else {
                if (playerSelection == 'rock' && computerSelection == 'paper') {
                    return winLose(0);
                } else if (playerSelection == 'paper' && computerSelection == 'scissors') {
                    return winLose(0);
                } else if (playerSelection == 'scissors' && computerSelection == 'rock') {
                    return winLose(0);
                } else if (playerSelection == 'rock' && computerSelection == 'scissors') {
                    return winLose(1);
                } else if (playerSelection == 'paper' && computerSelection == 'rock') {
                    return winLose(1);
                } else if (playerSelection == 'scissors' && computerSelection == 'paper') {
                    return winLose(1);
                } else {
                    document.querySelector(".Results").textContent = "Tie!";
                    updateScore();
                }
            }
        }
    </script>

</body>

</html>